# RSSchool_T8

Привет!) Я Евгений Полюбин и это моя реализация RSSchool_T8. 

Почти все реализовано на objc, кроме классов связанных с окном Timer и экраном Drawing. Сам процесс отрисовки основан на NSTimer и свойствах леера. Приложение позволяет сохранить картинку в фото или как файл PNG.
Некоторые файлы были перекинуты в папку otherStuff (там же асеты, шрифты, лаунчскрин, мост между objc и swift).
Так же все цвета и иконки были добавлены в асетс. Верстка частично из кода, и частично в storyboard-е.
Все остальные файлы располагаются в соответствующих папках.

Если есть какие то вопросы то можно написать мне в дискорд)

Более подробно о каждой папке:

    1) NavigationController - Здесь расположен контейнер вью контроллер, настраивает отображение таббара и переходы между дочерними VC.
        
    2) ArtistViewController - Здесь расположен VC экрана Artist. В имплементации обявлено перечисление для контроля за состояними кнопок, так же здесь происходит настройка вида экрана, логика работы кнопок, привязка к кнопкам опен таймер и опен паллет их inputView (для отоброжения вспомогательных окон). Так же через Artist передается PNG картинка для UIActivityViewController.
        В конце файла имеется категория "MyViewDelegate" которая подписыват ArtistVC под делигаты моих кастомных вьюх, и категория "UIActivityItemSource" для подписки под datasource UIActivityViewController.
        
    3) MyButton - Здесь реализация основных кнопок в приложении, настройка их вида, переопределние методов тача, вызов окон для кнопок опен таймер и опен палетт.
       
    4.1) PaletteView - Здесь расположена реализация вспомогательного отображения Palette + для него обьявлен протокол делегата. Здесь происходит настройка вида, хранение массива выбранных цветов, хранение массива выбранных кнопок для этих цветов, и частичная логика выбора кнопок-цветов (другая часть в файле ButtonPalette).
           При нажатии на кнопку сохранения - цвета кнопок из массива выбранных кнопок копируются в массив цветов, если количество кнопок меньше 3, то в цвета добавляется черный цвет, и так пока количество не станет 3. После вызывается метод делегата, который закрывает окно.
           
    4.2) ButtonPalette - Здесь реализация кастомных кнопок-цветов для PaletteView + массив цветов для этих кнопок. Инициализация с помощью идентификатора, по этому идентификатору присваивается цвет из массива. Так же здесь присутствует остальная логика нажатии на эти кнопки (основано на свойстве isChoosed). Цвет каждой кнопки можно достать из свойства color.
    
    5) TimerView - Здесь 3 свифт файла: для самого окна, для слайдера и для лэйблов слайдера. В файле TimerView хранится выбранное время, здесь же объявлен протокол делегата для этого окна, и подписка под делегат слайдера. При тапе кнопки сейв текущее значение слайдера копируется в выбранное время и вызывается метод делегата таймера.
    В файле слайдера объявлен потокол делегата для передачи currentValue и настройка вида самого слайдера.
    В файле LabelTimerView просто найстройка вида.
    
    6) CanvasView - Окно для отображения рисунка + протокол делегата для этого окна. В классе имеется метод который отрисовавыет изображение, в этот метод передаются 3 параметра (время, массив цветов, выбранный рисунок). Отрисовка происходит в 3 саблеерах, каждому присваивается свой рандомный цвет из массива и свой путь отрисовки. Пути достаются из файла-категории UIBezierPath+DrawingStuff. Затем создается таймер, который вызывает срабатывание метода "oneStepDrawing", с интервалом 16.7 миллисекунд. Этот метод добавляет свойству strokeEnd, каждому из лееров, определенное число рассчитанное из параметра time (т.е. шаг отрисовки), когда strokeEnd станет больше 1 - таймер останавливается и нилится, вызывается метод делегата.
    Помимо отрисовки здесь есть метод  "getImage" для получения картинки окна.
    
    7)DrawingVC - здесь файл DrawingVC для экрана Drawing и файл DrawingButton. 
    VC хранит свойство выбранного объекта + перечисление для объектов.
    DrawingButton является сабклассом MyButton, с переопределенными методами тача для корректного отображения кнопок.
    
    8)UIBezierPath_DrawingStuff - Здесь реализована категория для UIBezierPath, с методами класса для получения определенного пути.


